<html>
  <head>
    <title>Upload Page</title>
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/index.css">
  </head>

  <body>
    <%- include("partials/header") %>

      <div class="welcome-banner">
        <h2>ðŸ‘‹ Let's upload something <%= user.username|| user.email || user.id %>!</h2>
      </div>

      <% if (uploadSuccess) { %>
        <div class="login-error" style="background-color:#eaf8f2;color:#1b7c54;border-color:#b6dec8;">
          âœ… File uploaded successfully.
        </div>
      <% } %>

      <section class="upload-section">
        <form action="/upload" method="POST" enctype="multipart/form-data" class="upload-form">
          <input type="file" name="file" required>
          <button type="submit">Upload</button>
        </form>
      </section>

      <% if (files && files.length) { %>
        <section class="upload-section upload-list">
          <h3>Your uploads</h3>
          <table width="100%">
            <thead class="header">
              <tr>
                <th class="file_name" width="35%">File name</th>
                <th class="type" width="20%">Type</th>
                <th class="added" width="25%">Added</th>
              </tr>
            </thead>
            <tbody>
              <% files.forEach(file => { %>
                <tr>
                  <td><%= file.filename %></td>
                  <td><%= file.type %></td>
                  <td>
                    <%= file.addedAt
                      ? file.addedAt.toLocaleString('fr-FR', {
                          day: '2-digit',
                          month: '2-digit',
                          year: 'numeric',
                          hour: '2-digit',
                          minute: '2-digit'
                        })
                      : 'â€”' %>
                  </td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        </section>
      <% } %>
     
      
  </body>
</html>
